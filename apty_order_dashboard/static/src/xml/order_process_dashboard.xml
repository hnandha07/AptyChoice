<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="OrderProcessDashboardMain">
      <link rel="stylesheet" href="/apty_order_dashboard/static/src/css/demo.css"/>
      <link rel="stylesheet" href="/apty_order_dashboard/static/src/css/material-dashboard.css"/>
      <link rel="stylesheet" href="/apty_order_dashboard/static/src/css/dashboard_style.css"/>
      <div class="sidebar" data-color="purple" data-background-color="white">
        <div class="sidebar-wrapper">
          <ul class="nav">
            <li class="nav-item active  ">
              <a class="nav-link" href="#">
                <p>Dashboard</p>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="main-panel">
      <div class="content">
        <div class="container-fluid">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header card-header-success">
                <h4 class="card-title">Orders by Status</h4>
              </div>
              <div class="card-body">
                <div class="row state-row">
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn active" data-state="all">All</button></div>
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn" data-state="preparing">Preparing</button></div>
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn" data-state="ready">Ready</button></div>
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn" data-state="picked">Picked</button></div>
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn" data-state="delivered">Delivered</button></div>
                  <div class="col-md-2"><button class="btn btn-lg btn-primary state-btn" data-state="cancel">Cancelled</button></div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-5">
              <div class="card">
                <div class="card-header card-header-success">
                  <h4 class="card-title">Recent Orders</h4>
                </div>
                <div class="card-body table-responsive">
                  <table class="table table-hover">
                    <thead class="text-warning">
                      <th>Reference #</th>
                      <th>Customer</th>
                    </thead>
                    <tbody class="list-order">
                      <tr class="order-row">
                        <td>&amp;nbsp;</td>
                        <td>No Data found</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="col-md-7">
              <div class="card">
                <div class="card-header card-header-success">
                  <h4 class="card-title">Order Details</h4>
                </div>
                <div class="card-body order-details">
                  <div class="row blank-body">
                    <h4>Select Orders to see the details.</h4>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </t>

  <t t-name="OrderDetail">
    <div class="row details" t-att-data-order-id="order.id">
      <div class="col-lg-12 col-md-12 text-center">
        <h2><t t-esc="order.name"/></h2>
      </div>
      <div class="col-md-6">
        <p>Customer: <t t-esc="partner['name']"/></p>
        <p>Contact Number : <t t-esc="partner['phone']"/></p>
        <p>Email : <t t-esc="partner['email']"/></p>
        <p><t t-esc="partner['street']"/>, <t t-esc="partner['street2'] or ''"/></p>
        <p><t t-esc="partner['city']"/>, <t t-esc="partner['zip']"/></p>
        </div>
      <div class="col-md-6">
        <t t-if="order.apty_choice_state != 'cancel'">
          <div class="row text-capitalize">
            Current Status : <t t-esc="order.apty_order_state"/>
          </div>
          <div class="row">
            <t t-if="order.apty_order_state == 'draft'">
              <button class="btn btn-primary process-order" data-new-state="preparing">
                Accept
              </button>
            </t>
            <t t-if="order.apty_order_state == 'preparing'">
              <button class="btn btn-primary process-order" data-new-state="ready">
                Process
              </button>
            </t>
            <t t-if="order.apty_order_state == 'ready'">
              <button class="btn btn-primary process-order" data-new-state="picked">
                Process
              </button>
            </t>
            <t t-if="order.apty_order_state == 'picked'">
              <button class="btn btn-primary process-order" data-new-state="delivered">
                Process
              </button>
            </t>
          </div>
          <div class="row">
          <t t-if="order.apty_order_state != 'delivered'">
            <button class="btn btn-primary order-cancel" data-new-state="cancel" data-order-id="order.id">
              Cancel
            </button>
          </t>
          </div>
        </t>
        <t t-elif="order.apty_order_state == 'cancel'">
          <h4>Order has been Cancelled</h4>
        </t>
        <t t-elif="order.apty_order_state == 'delivered'">
          <h4>Order has been Delivered</h4>
        </t>
      </div>
      <div class="col-md-12 col-lg-12 mt32">
      <h4>Order Details: </h4>
      <table class="table table-stripped">
        <thead>
          <th>Decription</th>
          <th>Quantity</th>
          <th>Unit Price</th>
          <th>Taxes</th>
          <th>Total Price</th>
        </thead>
        <tbody>
          <t t-foreach="order.order_line" t-as="line">
            <tr>
              <td><t t-esc="line.product_id[1]"/></td>
              <td><t t-esc="line.product_uom_qty"/></td>
              <td><t t-esc="line.price_unit"/></td>
              <td><t t-esc="line.tax_id"/></td>
              <td><t t-esc="line.price_subtotal"/></td>
            </tr>
          </t>
        </tbody>
      </table>
      <h4 class="text-right mt32">
        <hr/>
        <p>Untaxed Amount : <t t-esc="order.untaxed_amount"/></p>
        <p>Tax : <t t-esc="order.amount_tax"/></p>
        <hr/>
        <p>Total : <t t-esc="order.amount_total"/></p>
      </h4>
      </div>
    </div>
    <div role="dialog" class="modal fade" id="cancel-confirmation">
      <div class="modal-dialog">
        <div class="modal-content">
            <header class="modal-header">
                <h4 class="modal-title">Confirmation</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">&amp;times;</button>
            </header>
            <main class="modal-body">
                <h3>Are you sure you want to Cancel order?</h3>
                <input name="reason"/>
            </main>
            <footer class="modal-footer">
              <button class='btn btn-primary confirm-cancel' t-att-data-order-id="order.id">Confirm</button>
              <a role="button" href="#" class="btn btn-link btn-sm" data-dismiss="modal">Close</a>
            </footer>
        </div>
      </div>
    </div>
  </t>
</templates>